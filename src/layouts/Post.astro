---
import Base from './Base.astro';

interface Props {
  frontmatter: {
    title: string;
    description?: string;
    date: string;
  };
}

const { frontmatter } = Astro.props;

function formatDate(dateStr: string): string {
  return new Date(dateStr).toLocaleDateString('en-US', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  });
}
---

<Base title={`${frontmatter.title} — josh.rest`} description={frontmatter.description}>
  <article>
    <header class="post-header">
      <a href="/" class="back-link">← Back</a>
      <h1>{frontmatter.title}</h1>
      <time datetime={frontmatter.date}>{formatDate(frontmatter.date)}</time>
    </header>
    <div class="post-content">
      <slot />
    </div>
  </article>
</Base>

<style>
  :global(.container:has(article .post-header)) {
    max-width: 900px;
  }

  .post-header {
    margin-bottom: var(--space-2xl);
  }

  .back-link {
    display: inline-block;
    margin-bottom: var(--space-lg);
    color: var(--muted);
    font-size: 0.9rem;
  }

  .post-header h1 {
    margin-bottom: var(--space-sm);
  }

  .post-header time {
    color: var(--muted);
    font-size: 0.9rem;
  }

  .post-content {
    line-height: 1.8;
  }
</style>




